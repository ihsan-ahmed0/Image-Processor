# Image Processor
A crude image processor made in C that is capable of performing binarize, crop, grayscale, transpose, and resize operations on images in the .ppm format. The program works by converting an inputted image into a 2D array of Pixel structs, each one with recorded R, G, and B values (which maybe be 0 through 255). Then, depending on the operations chosen by the user, the 2D array will be manipulated accordingly and converted back into a .ppm image file.

## Grayscale
The Grayscale operation will iterate through each Pixel and calculate a grayscale intensity for each one, depending on its current R, G, and B values. The following formula is used for the calculation: (0.3 * R) + (0.59 * G) + (0.11 * B). After the grayscale intensity is determined for a Pixel, its R, G, and B values will all be set to that value, turning the Pixel into a shade of gray.

## Binarize
The Binarize operation works by iterating though each Pixel and setting its R, G, and B values to 0--turning the Pixel black--if its grayscale intensity (see above section on Grayscale) is below the specified threshold or 255--turning the Pixel white--if its grayscale intensity is above the specified threshold. The specified threshold must be set by the user upon invoking this operation.

## Crop
When invoking this operation, the user must specify the location of two Pixels in the image that will define the boundary of the crop. The user does this by providing the x-value of the first Pixel, the y-value of the first Pixel, the x-value of the second Pixel, and the y-value of the second Pixel (in that order). One Pixel will be the top-left Pixel of the newly cropped image while the other will be the bottom-right Pixel of the newly cropped image (which one is which will depend on the Pixels' relative location to each other). The program will return an error to the user without completing the operation if one or both of the Pixel locations provided are not within the boundaries of the original image or if not enough coordinates are given. Note that we assume a coordinate system where the origin (0, 0) is the top-left pixel in the photo.

## Transpose
An inputted image is transposed by first creating a new 2D array of Pixels whose width is equal to the height of the original image and whose height is equal to the width of the original image. The Pixels of the original image are then copied to the the new 2D Pixel array. A Pixel in column x and row y in the original image will be placed in column y and row x in the new 2D Pixel array. After all the Pixels are copied over to the 2D array in this manner, the data is used to create a new .ppm image which will be the final transposed version of the original image.

## Resize
The resize operation is performed using a technique known as [gradient seam carving](https://en.wikipedia.org/wiki/Seam_carving). The basic idea of this technique is that the program either removes or inserts seams (chains of Pixels running either horizontally or vertically across the image that are determined to be the "least important") in the image until the desired size is reached. Carefully selecting the seams to remove/insert ensures that the image loses as little visual information as possible when resizing and also avoids the distortion of object proportions in the image that happens during normal resizing. The way the algorithm generates seams in the image is by finding the gradient (the directional change in intensity/color) of each Pixel. Those with the lowest gradients are determined to be the least important Pixels and are added to the seam. To find the gradient of the Pixels, the original image is converted into grayscale, and we use the intensity of the Pixels in grayscale to calculate two gradients for each Pixel: the horizontal and the vertical gradients. The horizontal gradient of a Pixel is the intensity of the Pixel to its right minus the intensity of the Pixel to its left divided by two. The vertical gradient of a Pixel is the intensity of the Pixel to above it minus the intensity of the Pixel to below it divided by two. With these two values, we find the overall gradient magnitude of the Pixel by taking the sum of the absolute value of the vertical gradient and the absolute value of the horizontal gradient. This calculation is repeated for every Pixel until all of their gradients are calculated (Pixels on the border of the image are set to zero). With the gradient data, all that's left is to build the seam(s). The algorithm uses vertical seams when it needs to adjust the image's width and horizontal seams when it needs to adjust the image's height. To build one vertical seam, the algorithm starts at the top row and chooses the pixel in that row with the lowest gradient. From there, the program checks the the Pixels directly below, below and to the right, and below and to the left. The one among them with the lowest gradient is added to the seam. The program continues down in this fashion until the bottom of the image is reached, which is when the seam is complete. This seam is either removed if the width needs to be shortened or duplicated if the width needs to lengthened. Horizontal seams work in much the same way except they work from left to right.
